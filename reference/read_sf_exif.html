<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="read_sf_exif() read EXIF data from folder of files and, geometry is TRUE
and coordinate metadata is available, convert the data to a sf object. This
function also assigns a cardinal direction based on the direction metadata
and recodes the orientation metadata.
For write_exif() the parameters are used to multiple tags with the same
values:
title: Title, IPTC:Headline, IPTC:ObjectName, XMP-dc:Title
description: ImageDescription, XMP-dc:Description, and
IPTC:Caption-Abstract
keywords: Keywords, IPTC:Keywords, XMP-dc:Subject

"><title>Read EXIF metadata to create a simple feature object or write
EXIF metadata to image files — read_sf_exif • sfext</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read EXIF metadata to create a simple feature object or write
EXIF metadata to image files — read_sf_exif"><meta property="og:description" content="read_sf_exif() read EXIF data from folder of files and, geometry is TRUE
and coordinate metadata is available, convert the data to a sf object. This
function also assigns a cardinal direction based on the direction metadata
and recodes the orientation metadata.
For write_exif() the parameters are used to multiple tags with the same
values:
title: Title, IPTC:Headline, IPTC:ObjectName, XMP-dc:Title
description: ImageDescription, XMP-dc:Description, and
IPTC:Caption-Abstract
keywords: Keywords, IPTC:Keywords, XMP-dc:Subject

"><meta property="og:image" content="https://elipousson.github.io/sfext/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sfext</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Introduction to sfext</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/elipousson/sfext/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read EXIF metadata to create a simple feature object or write
EXIF metadata to image files</h1>
      <small class="dont-index">Source: <a href="https://github.com/elipousson/sfext/blob/HEAD/R/read_sf_exif.R" class="external-link"><code>R/read_sf_exif.R</code></a></small>
      <div class="d-none name"><code>read_sf_exif.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>read_sf_exif()</code> read EXIF data from folder of files and, geometry is <code>TRUE</code>
and coordinate metadata is available, convert the data to a sf object. This
function also assigns a cardinal direction based on the direction metadata
and recodes the orientation metadata.</p>
<p>For <code>write_exif()</code> the parameters are used to multiple tags with the same
values:</p><ul><li><p>title: Title, IPTC:Headline, IPTC:ObjectName, XMP-dc:Title</p></li>
<li><p>description: ImageDescription, XMP-dc:Description, and
IPTC:Caption-Abstract</p></li>
<li><p>keywords: Keywords, IPTC:Keywords, XMP-dc:Subject</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_sf_exif</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filetype <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sort <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geometry <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">write_exif</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  filetype <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  author <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keywords <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  description <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  append_keywords <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">write_exif_from</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  filetype <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">from</span>,</span>
<span>  .id <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>  tag <span class="op">=</span> <span class="st">"keywords"</span>,</span>
<span>  join <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>path</dt>
<dd><p>A path to folder or file.</p></dd>


<dt>filetype</dt>
<dd><p>The file extension or file type; defaults to <code>NULL</code>.</p></dd>


<dt>bbox</dt>
<dd><p>Optional bounding box to crop returned file (excluding images
with location data outside the bounding box). If bbox is provided the
returned data will match the crs of the bbox.</p></dd>


<dt>sort</dt>
<dd><p>Column name for variable to sort by passed to <code><a href="number_features.html">sort_features()</a></code>.
Currently supports "lon", "lat", or "filename". Defaults to <code>NULL</code>.</p></dd>


<dt>tags</dt>
<dd><p>Optional list of EXIF tags to read from files. Must include GPS
tags to create an <code>sf</code> object.</p></dd>


<dt>geometry</dt>
<dd><p>If <code>TRUE</code> (defualt), return a simple feature object. If
<code>FALSE</code>, return a data.frame.</p></dd>


<dt>...</dt>
<dd><p>Additional EXIF tags to pass to <a href="https://rdrr.io/pkg/exiftoolr/man/exif_read.html" class="external-link">exiftoolr::exif_read</a></p></dd>


<dt>title</dt>
<dd><p>Title to add to file metadata with exiftoolr, Default: <code>NULL</code>.</p></dd>


<dt>author</dt>
<dd><p>Author to add to file metadata with exiftoolr, Default: <code>NULL</code>.</p></dd>


<dt>date</dt>
<dd><p>Date to add to file metadata with exiftoolr (not currently
working), Default: <code>NULL</code>.</p></dd>


<dt>keywords</dt>
<dd><p>Keyword(s) added to file metadata with with exiftoolr,
Default: <code>NULL</code>.</p></dd>


<dt>args</dt>
<dd><p>Alternate arguments passed to <code><a href="https://rdrr.io/pkg/exiftoolr/man/exif_call.html" class="external-link">exiftoolr::exif_call()</a></code>. If args
is not <code>NULL</code>, title, author, date, and keywords are ignored; defaults to
<code>NULL</code>.</p></dd>


<dt>overwrite</dt>
<dd><p>If <code>TRUE</code>, overwrite any existing EXIF metadata present in the
provided fields; defaults to <code>TRUE</code></p></dd>


<dt>from</dt>
<dd><p>A sf object or list of sf objects where each object has a column
with a name matching the .id parameter. The attribute value in this column
are used to assign the tag parameter to the file at the provided path based
on the spatial relationship set by join. For example, from may be boundary
data used to assign keywords based on photo locations.</p></dd>


<dt>.id</dt>
<dd><p>Column name in from with the values to use for tag values.</p></dd>


<dt>tag</dt>
<dd><p>EXIF tag to update, supported options include "keywords", "title",
or "description".</p></dd>


<dt>join</dt>
<dd><p>geometry predicate function; defaults to <code>NULL</code>, set to
<a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html" class="external-link">sf::st_intersects</a> if from contains only POLYGON or MULTIPOLYGON objects
or <a href="https://r-spatial.github.io/sf/reference/st_nearest_feature.html" class="external-link">sf::st_nearest_feature</a> if from contains other types.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other read_write: 
<code><a href="make_filename.html">make_filename</a>()</code>,
<code><a href="read_sf_ext.html">read_sf_ext</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">read_sf_exif</span><span class="op">(</span></span></span>
<span class="r-in"><span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/photos"</span>, package <span class="op">=</span> <span class="st">"overedge"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    filetype <span class="op">=</span> <span class="st">"jpeg"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

