<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read spatial data in a bounding box to a simple feature object from multiple sources — read_sf_ext • sfext</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read spatial data in a bounding box to a simple feature object from multiple sources — read_sf_ext"><meta name="description" content="An extended version of sf::read_sf() that support reading spatial data
based on a file path, URL, or the data name and associated package. A RDS,
RDA, or RData file Optionally provide a bounding box to filter data (data is
filtered before download or reading into memory where possible)."><meta property="og:description" content="An extended version of sf::read_sf() that support reading spatial data
based on a file path, URL, or the data name and associated package. A RDS,
RDA, or RData file Optionally provide a bounding box to filter data (data is
filtered before download or reading into memory where possible)."><meta property="og:image" content="https://elipousson.github.io/sfext/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sfext</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction to sfext</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/elipousson/sfext/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read spatial data in a bounding box to a simple feature object from multiple sources</h1>
      <small class="dont-index">Source: <a href="https://github.com/elipousson/sfext/blob/main/R/read_sf_ext.R" class="external-link"><code>R/read_sf_ext.R</code></a></small>
      <div class="d-none name"><code>read_sf_ext.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An extended version of <code><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">sf::read_sf()</a></code> that support reading spatial data
based on a file path, URL, or the data name and associated package. A RDS,
RDA, or RData file Optionally provide a bounding box to filter data (data is
filtered before download or reading into memory where possible).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_sf_ext</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_pkg</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  package <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pkg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fileext <span class="op">=</span> <span class="st">"gpkg"</span>,</span>
<span>  filetype <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_path</span><span class="op">(</span><span class="va">path</span>, bbox <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_zip</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exdir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  unzip <span class="op">=</span> <span class="st">"internal"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_rdata</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  refhook <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_query</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  query <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wkt_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zm_drop <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_excel</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  sheet <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  combine_sheets <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lon"</span>, <span class="st">"lat"</span><span class="op">)</span>,</span>
<span>  from_crs <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>  geo <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  address <span class="op">=</span> <span class="st">"address"</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_csv</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lon"</span>, <span class="st">"lat"</span><span class="op">)</span>,</span>
<span>  from_crs <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>  geo <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  address <span class="op">=</span> <span class="st">"address"</span>,</span>
<span>  wkt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  show_col_types <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_url</span><span class="op">(</span><span class="va">url</span>, bbox <span class="op">=</span> <span class="cn">NULL</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lon"</span>, <span class="st">"lat"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_esri</span><span class="op">(</span></span>
<span>  <span class="va">url</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  where <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lon"</span>, <span class="st">"lat"</span><span class="op">)</span>,</span>
<span>  from_crs <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_felt</span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  map_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_gist</span><span class="op">(</span><span class="va">url</span>, id <span class="op">=</span> <span class="cn">NULL</span>, bbox <span class="op">=</span> <span class="cn">NULL</span>, nth <span class="op">=</span> <span class="fl">1</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_gmap</span><span class="op">(</span></span>
<span>  <span class="va">url</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  combine_layers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  zm_drop <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_download</span><span class="op">(</span></span>
<span>  <span class="va">url</span>,</span>
<span>  <span class="va">filename</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filetype <span class="op">=</span> <span class="st">"geojson"</span>,</span>
<span>  prefix <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  unzip <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sf_gsheet</span><span class="op">(</span></span>
<span>  <span class="va">url</span>,</span>
<span>  sheet <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ss <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ask <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lon"</span>, <span class="st">"lat"</span><span class="op">)</span>,</span>
<span>  from_crs <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>  geo <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  address <span class="op">=</span> <span class="st">"address"</span>,</span>
<span>  .name_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters passed to multiple functions; see details.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Name of a package dataset; used by <code>read_sf_pkg()</code> only.</p></dd>


<dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p>A bounding box object; defaults to <code>NULL</code>. If <code>"bbox"</code> is
provided, only returns features intersecting the bounding box.</p></dd>


<dt id="arg-package-pkg">package, pkg<a class="anchor" aria-label="anchor" href="#arg-package-pkg"></a></dt>
<dd><p>Package name; used by <code>read_sf_pkg()</code> only. pkg is used if
package is <code>NULL</code>.</p></dd>


<dt id="arg-fileext">fileext<a class="anchor" aria-label="anchor" href="#arg-fileext"></a></dt>
<dd><p>File extension. If supplied to <code><a href="https://elipousson.github.io/filenamr/reference/get_data_dir.html" class="external-link">list_path_filenames()</a></code> and
pattern is <code>NULL</code>, only return file names matching this extension.</p></dd>


<dt id="arg-filetype">filetype<a class="anchor" aria-label="anchor" href="#arg-filetype"></a></dt>
<dd><p>File type supported by <code><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">sf::read_sf()</a></code>; Default: 'gpkg'; used
by <code>read_sf_pkg()</code> only and required only if the data is in the package
cache directory or extdata system files.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>A file path.</p></dd>


<dt id="arg-exdir">exdir<a class="anchor" aria-label="anchor" href="#arg-exdir"></a></dt>
<dd><p>The directory to extract files to (the equivalent of
    <code>unzip -d</code>).  It will be created if necessary.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>If <code>TRUE</code>, overwrite existing files (the equivalent
    of <code class="command">unzip -o</code>), otherwise ignore such files (the equivalent of
    <code class="command">unzip -n</code>).</p></dd>


<dt id="arg-unzip">unzip<a class="anchor" aria-label="anchor" href="#arg-unzip"></a></dt>
<dd><p>If <code>TRUE</code>, url must be a zip file that is downloaded to a cache
folder, unzipped into a temporary directory (created with <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>), and
then read to a file using the specified file type.</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>The file path to read from/write to.</p></dd>


<dt id="arg-refhook">refhook<a class="anchor" aria-label="anchor" href="#arg-refhook"></a></dt>
<dd><p>A function to handle reference objects.</p></dd>


<dt id="arg--name-repair">.name_repair<a class="anchor" aria-label="anchor" href="#arg--name-repair"></a></dt>
<dd><p>Passed to repair parameter of <code><a href="https://vctrs.r-lib.org/reference/vec_as_names.html" class="external-link">vctrs::vec_as_names()</a></code></p></dd>


<dt id="arg-dsn">dsn<a class="anchor" aria-label="anchor" href="#arg-dsn"></a></dt>
<dd><p>data source name (interpretation varies by driver - for some
drivers, <code>dsn</code> is a file name, but may also be a folder, or contain
the name and access credentials of a database); in case of GeoJSON,
<code>dsn</code> may be the character string holding the geojson data. It can
also be an open database connection.</p></dd>


<dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p>SQL query to select records; see details</p></dd>


<dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>table can usually be inferred from basename of the data source.
table is used to generate a custom query if both name and name_col are
provided. Use <code>sf::st_layers(dsn = dsn)[["name"]]</code> to see a list of
available table names.</p></dd>


<dt id="arg-name-name-col">name, name_col<a class="anchor" aria-label="anchor" href="#arg-name-name-col"></a></dt>
<dd><p>Name value and name column to use in generated a query
for sources read with <code>read_sf_query()</code> or <code>read_sf_esri()</code>.</p></dd>


<dt id="arg-wkt-filter">wkt_filter<a class="anchor" aria-label="anchor" href="#arg-wkt-filter"></a></dt>
<dd><p>character; WKT representation of a spatial filter (may be used as bounding box, selecting overlapping geometries); see examples</p></dd>


<dt id="arg-zm-drop">zm_drop<a class="anchor" aria-label="anchor" href="#arg-zm-drop"></a></dt>
<dd><p>If <code>TRUE</code>, drop Z and/or M dimensions using <a href="https://r-spatial.github.io/sf/reference/st_zm.html" class="external-link">sf::st_zm</a></p></dd>


<dt id="arg-sheet">sheet<a class="anchor" aria-label="anchor" href="#arg-sheet"></a></dt>
<dd><p>Sheet to read. Either a string (the name of a sheet), or an
integer (the position of the sheet). Ignored if the sheet is specified via
<code>range</code>. If neither argument specifies the sheet, defaults to the first
sheet.</p></dd>


<dt id="arg-coords">coords<a class="anchor" aria-label="anchor" href="#arg-coords"></a></dt>
<dd><p>Character vector with coordinate values. Coordinates must use
the same crs as the <code>from_crs</code> parameter.</p></dd>


<dt id="arg-from-crs">from_crs<a class="anchor" aria-label="anchor" href="#arg-from-crs"></a></dt>
<dd><p>For <code><a href="sf_to_df.html">df_to_sf()</a></code>, coordinate reference system used by
coordinates or well known text in data frame.</p></dd>


<dt id="arg-geo">geo<a class="anchor" aria-label="anchor" href="#arg-geo"></a></dt>
<dd><p>If <code>TRUE</code>, use <code><a href="address_to_sf.html">address_to_sf()</a></code> to geocode address column;
defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-address">address<a class="anchor" aria-label="anchor" href="#arg-address"></a></dt>
<dd><p>Address column name, Default: 'address'</p></dd>


<dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>A url for a spatial data file, tabular data with coordinates, or a
ArcGIS FeatureServer or MapServer to access with <code><a href="https://rdrr.io/pkg/esri2sf/man/esri2sf.html" class="external-link">esri2sf::esri2sf()</a></code></p></dd>


<dt id="arg-wkt">wkt<a class="anchor" aria-label="anchor" href="#arg-wkt"></a></dt>
<dd><p>Name of column with well-known text for geometry. Used by
<code>read_sf_csv()</code>.</p></dd>


<dt id="arg-show-col-types">show_col_types<a class="anchor" aria-label="anchor" href="#arg-show-col-types"></a></dt>
<dd><p>If <code>FALSE</code>, do not show the guessed column types. If
<code>TRUE</code> always show the column types, even if they are supplied. If <code>NULL</code>
(the default) only show the column types if they are not explicitly supplied
by the <code>col_types</code> argument.</p></dd>


<dt id="arg-where">where<a class="anchor" aria-label="anchor" href="#arg-where"></a></dt>
<dd><p>string for where condition. Default is <code>NULL</code> (equivalent to
<code>1=1</code>) to return all rows.</p></dd>


<dt id="arg-map-id">map_id<a class="anchor" aria-label="anchor" href="#arg-map-id"></a></dt>
<dd><p>A Felt map URL, map ID string, or a named list with a id and
type element. If map_id is a list, it must be equivalent to the output from
<code><a href="https://elipousson.github.io/feltr/reference/read_felt_map.html" class="external-link">get_felt_map()</a></code> where the list includes a "id" string and a "type" string
with the value "map".</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>The name of a column in which to store the file path. This is
useful when reading multiple input files and there is data in the file
paths, such as the data collection date. If <code>NULL</code> (the default) no extra
column is created.</p></dd>


<dt id="arg-nth">nth<a class="anchor" aria-label="anchor" href="#arg-nth"></a></dt>
<dd><p>For <code>read_sf_gist()</code>, the file to return from the gist, e.g. 1 for
first, 2 for second. Defaults to 1.</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>layer name (varies by driver, may be a file name without
extension); in case <code>layer</code> is missing, <code>st_read</code> will read the
first layer of <code>dsn</code>, give a warning and (unless <code>quiet = TRUE</code>)
print a message when there are multiple layers, or give an error if there
are no layers in <code>dsn</code>. If <code>dsn</code> is a database connection, then
<code>layer</code> can be a table name or a database identifier (see
<code><a href="https://dbi.r-dbi.org/reference/Id.html" class="external-link">Id</a></code>). It is also possible to omit <code>layer</code> and rather
use the <code>query</code> argument.</p></dd>


<dt id="arg-combine-layers-combine-sheets">combine_layers, combine_sheets<a class="anchor" aria-label="anchor" href="#arg-combine-layers-combine-sheets"></a></dt>
<dd><p>If <code>FALSE</code> (default), return a list with
a sf object for each layer or sheet as a separate item. If <code>TRUE</code>, use
<code><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">purrr::map_dfr()</a></code> to combine layers or sheets into a single sf object
using the layer or sheet name as an additional column.</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>File name; if filename is <code>NULL</code> and path does not include a
file extension, name and file extension are both required.</p></dd>


<dt id="arg-prefix">prefix<a class="anchor" aria-label="anchor" href="#arg-prefix"></a></dt>
<dd><p>File name prefix. "date" adds a date prefix, "time" adds a
date/time prefix; defaults to <code>NULL</code>.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Method to be used for downloading files.  Current
    download methods are <code>"internal"</code>, <code>"libcurl"</code>,
    <code>"wget"</code>, <code>"curl"</code> and <code>"wininet"</code> (Windows
    only), and there is a value <code>"auto"</code>: see ‘Details’ and
    ‘Note’.</p>
<p>The method can also be set through the option
    <code>"download.file.method"</code>: see <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a>()</code>.</p></dd>


<dt id="arg-ss">ss<a class="anchor" aria-label="anchor" href="#arg-ss"></a></dt>
<dd><p>Something that identifies a Google Sheet:</p><ul><li><p>its file id as a string or <code><a href="https://googledrive.tidyverse.org/reference/drive_id.html" class="external-link">drive_id</a></code></p></li>
<li><p>a URL from which we can recover the id</p></li>
<li><p>a one-row <code><a href="https://googledrive.tidyverse.org/reference/dribble.html" class="external-link">dribble</a></code>, which is how googledrive
represents Drive files</p></li>
<li><p>an instance of <code>googlesheets4_spreadsheet</code>, which is what <code><a href="https://googlesheets4.tidyverse.org/reference/gs4_get.html" class="external-link">gs4_get()</a></code>
returns</p></li>
</ul><p>Processed through <code><a href="https://googlesheets4.tidyverse.org/reference/sheets_id.html" class="external-link">as_sheets_id()</a></code>.</p></dd>


<dt id="arg-ask">ask<a class="anchor" aria-label="anchor" href="#arg-ask"></a></dt>
<dd><p>If <code>TRUE</code>, ask for the name of the Google Sheet to read if ss is
not provided to read_sf_gsheet.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Reading data from a url:</p>
<p><code>read_sf_url()</code> supports multiple types of urls:</p><ul><li><p>A MapServer or FeatureServer URL</p></li>
<li><p>A URL for a GitHub gist with a single spatial data file (first file used
if gist contains multiple)</p></li>
<li><p>A URL for a spatial data file, CSV file, Excel file, or RDS file (RDA and
RData files supported by <code>read_sf_path()</code>)</p></li>
<li><p>A Google Sheets URL</p></li>
<li><p>A public Google Maps URL</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="reading-data-from-a-package">Reading data from a package<a class="anchor" aria-label="anchor" href="#reading-data-from-a-package"></a></h2>



<p><code>read_sf_pkg()</code> looks for three types of package data:</p><ul><li><p>Data loaded with the package</p></li>
<li><p>External data in the <code>extdata</code> system files folder.</p></li>
<li><p>Cached data in the cache directory returned by
<code><a href="https://rappdirs.r-lib.org/reference/user_cache_dir.html" class="external-link">rappdirs::user_cache_dir()</a></code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="additional-parameters">Additional ... parameters<a class="anchor" aria-label="anchor" href="#additional-parameters"></a></h2>



<p><code>read_sf_ext()</code> is a flexible function where ... are passed to one of the
other read functions depending on the provided parameters. If you are using
more than one parameter, all parameters <em>must</em> be named.</p>
<p><code>read_sf_pkg()</code> and <code>read_sf_download()</code> both pass additional parameters to
<code>read_sf_path()</code> which supports query, name_col, name, and table. name and
name_col are ignored if a query parameter is provided. If table is not
provided, a expected layer name is created based on the file path.</p>
<p><code>read_sf_url()</code> pass the where, name_col, and name for any ArcGIS
FeatureServer or MapServer url (passed to <code>read_sf_esri()</code>) or sheet if the
url is for a Google Sheet (passed to <code><a href="https://googlesheets4.tidyverse.org/reference/range_read.html" class="external-link">googlesheets4::read_sheet()</a></code>), or a
query or wkt filter parameter if the url is some other type (passed to
<code><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">sf::read_sf()</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other read_write:
<code><a href="read_sf_exif.html">read_sf_exif</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

